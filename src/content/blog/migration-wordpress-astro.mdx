---

title: "De WordPress √† Astro : trois jours pour reprendre le contr√¥le"
pubDate: "2025-11-05"
slug: "migration-wordpress-astro"
draft: true
categories: 
  - "Tutoriels"
tags:
  - WordPress
  - Jamstack
description: ""
image: /image/actually-agile.avif

---

import { Code } from 'astro-expressive-code/components'

_Quand la performance, la simplicit√© et la ma√Ætrise remplacent la maintenance._

## 1. Le point de bascule : quand maintenir devient √©puisant

J'avais deux blogs WordPress : l'un pour mes articles techniques (Python, IA, architecture logicielle), l'autre qui parlait de WordPress et de son √©co-syst√®me : h√©bergement, plugins, th√®mes, personnalisation, s√©curit√©‚Ä¶ Deux plateformes, deux ensembles d'extensions, deux bases de donn√©es √† surveiller ‚Äî et, forc√©ment, deux fois plus de maintenance.

Avec WordPress, chaque mise √† jour peut avoir un effet domino : un th√®me qui casse, qui n'est plus maintenu, ou retir√© du d√©p√¥t WordPress ‚Äî parfois pour des questions de s√©curit√© l√©gitimes, parfois pour des raisons moins claires. La gouvernance de l'√©cosyst√®me, de plus en plus centralis√©e autour de Matt Mullenweg, ajoute une couche d'incertitude.

Au quotidien, cela devient une t√¢che en soi. Pas du d√©veloppement, pas de la r√©daction ‚Äî juste de la maintenance.

Et c'est sans compter la surveillance permanente des performances : Core Web Vitals, vitesse de r√©ponse serveur, compatibilit√© mobile‚Ä¶ √Ä force, j'avais l'impression d'entretenir un syst√®me vivant plut√¥t qu'un espace de publication.

> **"Au bout d'un moment, j'entretenais plus que je ne cr√©ais."**

### 1.1 Quand les plugins se retournent contre toi

 <samp>*"I'm sorry Dave, I'm afraid I can't do that."</samp>

Soyons honn√™te : c'est l√† que j'ai d√©croch√©. Le point de rupture ? Les **incompatibilit√©s entre plugins** qui transforment chaque mise √† jour en partie de roulette russe.

L'exemple typique : **Editor's Kit**. Cens√© enrichir Gutenberg, il a fini par me causer plus de probl√®mes qu'il n'en r√©solvait ‚Äî bugs d'affichage, conflits CSS, comportements erratiques. Je l'ai d√©sactiv√© et supprim√© apr√®s plusieurs heures de d√©bogage inutiles.

M√™me constat avec **WP-Typography** : un excellent concept, mais un gouffre √† ressources. Le plugin faisait r√©guli√®rement exploser la limite m√©moire PHP ‚Äî erreurs fatales, timeouts, le grand jeu ‚Äî j'ai d√ª ajouter mes propres correctifs pour √©viter les overflows.

Et c'est l√† que tu comprends que **l'architecture par empilement de plugins a ses limites** : d√©pendances crois√©es, mises √† jour impr√©visibles, changements de philosophie d'un jour √† l'autre, et une surface d'attaque grandissante.

> **Entre les ressources gaspill√©es et les failles de s√©curit√© potentielles, le rapport b√©n√©fice / risque ne tenait plus.**

## 2. Hugo : la premi√®re tentative vers la sobri√©t√©

Avant Astro, j'ai tent√© **Hugo**. Et franchement, j'ai ador√© une partie de l'exp√©rience :

-   le build instantan√©,
-   les fichiers plats en Markdown,
-   la sensation d'un site o√π l'on √©crit et publie sans friction.

Mais le charme s'est vite √©mouss√©. L'√©cosyst√®me Hugo est robuste, mais moins dynamique. Le templating en Go est efficace, mais pas intuitif. Et les th√®mes, souvent fig√©s, laissent peu de place √† la personnalisation rapide.

Hugo m'a fait entrevoir la **voie de la l√©g√®ret√©**, mais sans que j'y trouve r√©ellement mes marques. C'est un framework parfait pour un site institutionnel ou documentaire, moins pour un blog. Il m'a appris une chose essentielle : la performance brute ne suffit pas. Il faut un environnement _agr√©able √† maintenir et √† faire √©voluer_.

Techniquement, √ßa marchait. Mais je n'ai jamais franchi le pas de la mise en ligne : le r√©sultat ne m'inspirait pas. C'est d'ailleurs ce que j'explique dans l'article (en anglais) [# WordPress vs Hugo: When Reality Challenges the Speed Myths](https://dev.to/pascal_cescato_692b7a8a20/wordpress-vs-hugo-when-reality-challenges-the-speed-myths-3ca8).

## 3. Astro : le d√©clic

Je ne connaissais pas Astro avant cette migration. Je suis tomb√© dessus presque par hasard ‚Äî et j'ai eu ce petit moment de bascule : _"tiens, √ßa, c'est diff√©rent."_

En quelques heures, j'ai compris que le framework avait trouv√© le bon √©quilibre :

-   la simplicit√© d'un site statique,
-   la modularit√© d'un environnement moderne,
-   la compatibilit√© avec les biblioth√®ques front-end sans les imposer.

Astro est pens√© pour un web **sobre et intelligent**. Chaque composant a un r√¥le clair. Chaque fichier Markdown devient un vrai contenu versionnable. Et le build final est propre : pas de code mort, pas de d√©pendances inutiles.

Pourquoi Astro plut√¥t qu'Eleventy ou Next.js ? La r√©ponse tient en trois points :

-   **Eleventy** : excellente philosophie, mais un √©cosyst√®me de th√®mes limit√©. Partir d'une base propre aurait demand√© trop de travail de mise en forme.
-   **Next.js** : puissant, mais lourd et sujet √† des incompatibilit√©s fr√©quentes entre versions. Exactement le type de maintenance que je voulais fuir.
-   **Astro** : le juste milieu. Un √©cosyst√®me de th√®mes en croissance, une architecture d'√Æles (Islands Architecture) qui charge le JavaScript uniquement l√† o√π c'est n√©cessaire, et la possibilit√© d'importer des composants React, Vue ou Svelte sans embarquer leur runtime complet par d√©faut.

> **"Astro a r√©ellement chang√© ma fa√ßon de voir les choses."**

### 3.1 Reprendre la main sur son √©cosyst√®me

Ce que j'ai particuli√®rement appr√©ci√©, c'est la **modularit√©**. J'ai pu ajouter les commentaires via **Giscus** en quelques lignes, sans plugin, sans d√©pendance cach√©e. M√™me chose pour le SEO, le sitemap ou les m√©tadonn√©es : tout est explicite, configurable, lisible.

L√† o√π WordPress impose son propre cadre, Astro me laisse **choisir mes briques**. Je peux les comprendre, les versionner, les faire √©voluer √† mon rythme. C'est une forme de retour √† la clart√© :

> _Je sais ce que mon site fait, et pourquoi._
> 
### 3.2 La recherche : enfin utilisable

Sur WordPress, la recherche native est... frugale, disons. Elle fouille dans les titres et le contenu sans notion de pertinence, sans pond√©ration, sans finesse. Pire que Google en version alpha 0.1.

J'avais tent√© **Relevanssi** pour am√©liorer √ßa ‚Äî j'en parle d'ailleurs dans [cet article](https://fr.benchwiseunderflow.in/blog/ameliorez-recherche-relevanssi/). √áa fonctionnait, mais au prix habituel : consommation m√©moire, tables SQL suppl√©mentaires, configuration √† maintenir, risque de conflit avec d'autres extensions... R√©sultat ? J'avais fini par **d√©sactiver toute recherche** sur mes blogs. Autant ne rien proposer que de proposer quelque chose d'inutilisable.

Avec Astro, j'ai int√©gr√© **Pagefind** : indexation automatique au build, recherche instantan√©e c√¥t√© client, pertinence r√©elle. Pas de requ√™te serveur, pas de base de donn√©es √† interroger, pas de plugin √† surveiller. Juste une recherche qui **fonctionne**, enfin.

> **Pour la premi√®re fois depuis des ann√©es, j'ai r√©activ√© la recherche sur mon site. Et elle est meilleure que tout ce que j'avais pu obtenir sous WordPress.**

## 4. La migration : trois jours pour tout transformer

J'ai profit√© d'un week-end prolong√© pour tout basculer. Trois jours, pas plus. Mais il faut dire que j'avais d√©j√† une bonne base de travail : un outil que j'avais d√©velopp√© pour Hugo.

### 4.1 Mes outils maison

J'ai ressorti mon script **`wp2md`** dont je donne les grandes lignes dans l'article [Migrer de WordPress vers Hugo en 2025 : le guide complet](https://fr.benchwiseunderflow.in/blog/guide-complet-migration-wordpress-hugo/). √Ä l'origine, j'ai con√ßu cet outil pour transformer des exports **WXR** de WordPress en fichiers **Markdown**. Il g√®re :

-   l'extraction du texte,
-   les m√©tadonn√©es,
-   les cat√©gories et tags,
-   le t√©l√©chargement automatique des images
-   la g√©n√©ration des formats AVIF et webP √† partir de l'image au format PNG ou JPG

Il m'a suffi d'adapter le formateur pour le front-matter d'Astro, en ajoutant les bons champs (`title`, `description`, `pubDate`, `image`, etc.).

<Code code={`python3 wp2md.py --input export.wxr --output ./src/content/blog/
`} lang="bash" />

Sur ce point, je peux dire merci √† **Claude d'Anthropic**, qui m'a g√©n√©r√© plusieurs scripts :

1.  Un pour **reconstruire les liens internes** apr√®s fusion de mes deux domaines ;
2.  Un pour **recr√©er la structure de base** du projet Astro ;
3.  Et un dernier pour **r√©g√©n√©rer automatiquement toutes les images** aux formats 320, 640, 1024, 1280 et 1440 pixels de large, en WebP et AVIF pour un rendu responsive optimal.

Et √† ChatGPT _pour m'avoir g√©n√©r√© une version optimis√©e_ de ce dernier script.

### 4.2 De deux blogs √† un seul

Je ne faisais pas qu'une migration ‚Äî je **fusionnais** deux sites : l'un ax√© sur l'√©cosyst√®me WordPress, l'autre servant de laboratoire pour mes exp√©rimentations techniques. Le nom de domaine changeait, les slugs aussi. J'ai donc d√ª :

-   reconstruire les liens internes,
-   v√©rifier les r√©f√©rences crois√©es,
-   et revoir la structure des cat√©gories.

Mon script initial n'avait pas √©t√© pr√©vu pour ce cas de figure, je l'ai donc compl√©t√© avec une logique de **reconstruction d'URLs** et de **correction syst√©matique des liens internes**.

### 4.3 Th√®me et personnalisations

Je n'ai pas pris un th√®me Astro "out-of-the-box". J'en ai choisi un comme base (Frosti, minimaliste, bien structur√©), que j'ai _l√©g√®rement_ remani√© :

-   retouches dans le header et le footer,
-   ajout du composant `OptImg` pour g√©rer les images responsive,
-   int√©gration de `Comments.astro` via Giscus,
-   ajustements de performance et pr√©chargement LCP.

Ce fut aussi l'occasion de **rationaliser** : un seul layout principal, un style unifi√©, des classes Tailwind simplifi√©es. Chaque modification avait un objectif clair : _vitesse, lisibilit√©, sobri√©t√©_.

### 4.4 Mise en ligne et validation

Pour le d√©ploiement, j'ai conserv√© **OpenLiteSpeed (OLS)** ‚Äî [un choix de continuit√©](https://fr.benchwiseunderflow.in/blog/cyberpanel-openlitespeed-lscache). Je connais bien l'environnement, il est fiable, et coupl√© √† **aaPanel** ou √† **CyberPanel** il offre une gestion souple. Le tout passe par **Cloudflare** pour le CDN et la s√©curit√©.

Quelques ajustements mineurs dans le cache et les r√®gles de compression, et le site √©tait en ligne. Les tests Lighthouse ont parl√© d'eux-m√™mes :

-   **LCP** divis√© par deux,
-   **TBT** r√©duit de 70 %,
-   **SEO** pass√© √† 100/100 sur Lighthouse. Les fondations techniques sont solides : balisage s√©mantique, m√©tadonn√©es compl√®tes, sitemap propre, temps de chargement minimal.

> **En trois jours, tout √©tait migr√©, test√© et publi√©.**

## 5. Ce que j'y ai gagn√© ‚Äî et ce qu'il reste √† faire

### 5.1 Les b√©n√©fices imm√©diats

-   **Tranquillit√©** : plus de mises √† jour, plus de conflits.
-   **Performance** : pages instantan√©es, scores Lighthouse au vert.
-   **Simplicit√©** : un dossier de contenu clair, versionn√© sous Git.
-   **Pr√©visibilit√©** : le build donne toujours le m√™me r√©sultat.

Et, surtout, **la ma√Ætrise**. Chaque ligne de code, chaque fichier d'image, chaque m√©tadonn√©e passe par moi. Aucune "bo√Æte noire" entre la source et la page servie. 

Les formats d'images modernes comme l'AVIF sont support√©s nativement ‚Äî pas besoin de plugin premium.

Et les fonctionnalit√©s avanc√©es ne sont pas enferm√©es derri√®re des abonnements mensuels qui s'accumulent jusqu'√† d√©passer le co√ªt de l'infrastructure elle-m√™me.

Concr√®tement, je gagne **au minimum une heure par semaine** ‚Äî le temps que je passais √† v√©rifier les mises √† jour, tester les incompatibilit√©s, surveiller les logs d'erreurs. Ce temps, je le r√©investis maintenant dans la r√©daction.

C√¥t√© infrastructure, la diff√©rence est spectaculaire. L√† o√π WordPress n√©cessite un serveur robuste (4 c≈ìurs, 8 Go de RAM), Astro tourne sans broncher sur **1 c≈ìur CPU / 1 Go de RAM**. Avec Cloudflare qui absorbe l'essentiel du trafic via son CDN, le serveur d'origine ne sert qu'une fraction des requ√™tes. Pas de PHP, pas de base de donn√©es, pas de cache applicatif : juste des fichiers statiques. **L'efficacit√© √† l'√©tat pur.**

### 5.2 Les prochaines √©tapes

Astro me donne maintenant envie d'aller plus loin. Je travaille sur une **interface d'√©dition l√©g√®re** pour simplifier la r√©daction et l'upload d'images, avec g√©n√©ration automatique des formats responsive (WebP et AVIF). L'objectif : conserver la simplicit√© des fichiers Markdown tout en am√©liorant le confort d'√©criture au quotidien.

### 5.3 Ce qu'Astro n'est pas

Je vais √™tre honn√™te : Astro a aussi ses limites.

-   **sa communaut√© est plus petite** que celles de Next.js ou de Hugo. Moins de ressources, moins de th√®mes "cl√© en main", moins de plugins tiers. Il faut parfois mettre les mains dans le cambouis.
-   **la d√©pendance √† Node.js** : contrairement √† Hugo (un simple binaire), Astro n√©cessite un environnement JavaScript complet. Pas un probl√®me pour moi, mais √ßa peut en √™tre un selon ton setup.
-   **la courbe d'apprentissage** : si tu veux utiliser les fonctionnalit√©s avanc√©es (islands, SSR hybride, int√©grations complexes), il faut du temps. Ce n'est pas un outil "no-code" (si tu ne veux pas coder du tout, va sur une plateforme de publication comme Squarespace).

Mais ces compromis, je les ai accept√©s en connaissance de cause. Parce qu'en √©change, j'obtiens exactement ce que je cherchais : **ma√Ætrise, l√©g√®ret√© et √©volutivit√©**.

Et surtout : si Astro venait √† √™tre abandonn√© demain, mes contenus restent en **Markdown pur**. Aucune d√©pendance propri√©taire, aucun format exotique. Migrer vers un autre g√©n√©rateur statique prendrait quelques heures, pas quelques semaines.

## 6. Au-del√† du blog : une vision √† long terme

Cette migration n'est pas une fin, c'est un d√©but. √Ä terme, je compte basculer **tous mes projets** ‚Äî dont une lettre d'information ‚Äî sous un m√™me socle Astro. Un framework unique, unifi√©, versionn√©, que je peux faire √©voluer sans d√©pendances externes.

G√©rer plusieurs WordPress aurait √©t√© un cauchemar logistique. Avec Astro, je peux multiplier les espaces sans multiplier les syst√®mes. Un site = un d√©p√¥t Git = un build pr√©visible.

> **Je n'ai pas simplement migr√© deux sites. J'ai pos√© la premi√®re pierre d'un √©cosyst√®me plus sobre et plus coh√©rent.**

## 7. Conclusion : redevenir ma√Ætre de son outil

WordPress reste une plateforme puissante, mais elle a d√©riv√© vers un mod√®le lourd, complexe, parfois impr√©visible. Astro, √† l'inverse, m'a ramen√© √† l'essentiel : **publier du contenu, pas g√©rer des d√©pendances.**

Ce que j'y ai trouv√©, c'est une forme de s√©r√©nit√© technique. Un environnement lisible, rapide, que je comprends et que je peux expliquer. Et, au-del√† de la performance, une philosophie :

> **Faire simple, faire clair, faire durable.**

Je n'ai pas quitt√© WordPress par rejet, mais **pour retrouver la libert√©** d'un code que je ma√Ætrise ‚Äî et la tranquillit√© d'un site qui fait exactement ce qu'on lui demande, rien de plus.

----------

## Encadr√© technique ‚Äî Outils et scripts utilis√©s dans la migration

### ‚öôÔ∏è Infrastructure

-   **Serveur web :** OpenLiteSpeed (OLS), administr√© via **aaPanel**
-   **CDN et s√©curit√© :** Cloudflare
-   **Gestion DNS et SSL :** Cloudflare + OLS
-   **H√©bergement :** VPS Layer7 (4 vCPU, 8 Go RAM)

### üß© Framework et environnement de build

-   **Framework :** [Astro](https://astro.build/) (th√®me Frosti modifi√©)
-   **Langages :** TypeScript, JavaScript, Markdown, TailwindCSS
-   **Plugins Astro :** @astrojs/image, @astrojs/rss, @astrojs/sitemap, Giscus (commentaires)

### üë®‚Äçüíª Scripts de migration et automatisation

-   **Export WordPress ‚Üí Markdown :** script Python `wp2md`
    -   Conversion du fichier WXR en Markdown
    -   Extraction du contenu, des cat√©gories, des tags et du front-matter
    -   T√©l√©chargement automatique des images
-   **Scripts JavaScript (g√©n√©r√©s avec l'aide de Claude d'Anthropic)**
    1.  Reconstruction des **liens internes** apr√®s fusion de domaines
    2.  Cr√©ation d'une **structure de base** pour le r√©pertoire `/src` d'Astro
    3.  G√©n√©ration automatique des **images aux diff√©rentes tailles** (320, 640, 1024, 1280, 1440 px)
-   **Optimisation des scripts :** corrections apport√©es pour acc√©l√©rer le traitement et **√©viter la r√©g√©n√©ration inutile** d'images d√©j√† produites.

### üí° Workflow global

1.  Export WXR depuis WordPress
2.  Conversion via `wp2md`
3.  Nettoyage et reformatage via scripts JavaScript
4.  Int√©gration dans `/src/content/blog/`
5.  Test Lighthouse + v√©rifications SEO
6.  D√©ploiement OLS + Cloudflare

> _Astro pour la l√©g√®ret√©, OpenLiteSpeed pour la fiabilit√©, Cloudflare pour la tranquillit√© ‚Äî et quelques scripts bien pens√©s pour relier le tout._